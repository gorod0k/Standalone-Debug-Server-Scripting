Вольный перевод документации.

Debug Server Scripting (DSS) — это набор кроссплатформенных API-интерфейсов Java для сервера отладки, которые позволяют создавать сценарии с помощью инструментов Java или сторонних инструментов, таких как JavaScript (через Rhino), Java, Python (через Jython), TCL (через Jacl/Tclblend) и т. д. JavaScript — основной (и предпочтительный) язык сценариев, поддерживаемый DSS.
Сервер отладки — это базовый механизм отладки Code Composer Studio (CCS). Доступ к нему возможен как из консоли, так и из CCS IDE.
DSS доступен как часть CCS, но может использоваться в виде "вещи-в-себе" (выдран из CCS вручную).

###### Настройка среды и запуск JavaScript
Перед запуском DSS необходимо правильно настроить хост-среду. Это включает в себя установку системного PATH, путей к классам, других переменных среды и т.д. При запуске движка Rhino JavaScript необходимо передавать различные параметры. Чтобы упростить все эти действия, DSS предоставляет сценарий пакетной обработки/оболочки, который настраивает необходимую среду и вызывает механизм Rhino Javascript с необходимыми параметрами и указанным для запуска кодом JavaScript. Этот файл хранится в: [корневая папка DSS]\scripting\bin. Этот файл называется dss.bat в Windows и dss.sh в Linux/Mac, где первым параметром является запускаемый JavaScript, а последующие необязательные параметры передаются в JavaScript.
Например:	> dss myscript.js scriptParam1 scriptParam2
В приведенном примере путь к сценарию пакетной обработки/оболочки указан в системной переменной PATH, поэтому сценарий dss можно вызывать из любого места.

###### Запуск отладчика Rhino
Чтобы использовать Rhino Debugger со сценариями DSS (для CCSv5.3 и выше):
Передайте параметр -dss.debug при вызове сценария dss через dss.bat/sh
> dss.bat -dss.debug myScript.js

###### Примеры скриптов
Эти примеры находятся в:	\[корневая папка DSS]\scripting\examples
Основные примеры DSS — это примеры сценариев, которые выполняют основные операции с памятью и точками останова.
Базовые примеры DVT (DVTExamples) — пример сценария для сбора и экспорта данных профилирования функций.
Loadti — универсальный загрузчик командной строки, который может загружать/запускать исполняемый файл *.out на целевой аппаратной платформе (см. https://software-dl.ti.com/ccs/esd/documents/sdto_dss_loadti.html).
Тестовый сервер (TestServer) — демонстрирует, как использовать DSS для настройки тестового сервера отладки и отправки удаленными клиентами команд отладки через соединение через сокет TCP/IP (см. https://software-dl.ti.com/ccs/esd/documents/dss_test-server.html).
Новым пользователям настоятельно рекомендуется открыть базовые примеры DSS и медленно пройтись по ним, чтобы понять, как работает DSS. Примеры хорошо прокомментированы и должны дать вам представление об основных шагах, необходимых для создания среды сценариев и запуска сеанса отладки для указанной цели, в дополнение к выделению некоторых доступных API-интерфейсов DSS. Также полезно использовать примеры сценариев в качестве основы для создания собственных сценариев (путем ссылки на них или простого копирования, а затем «потрошения» для использования в качестве шаблона).
Примеры зависят от целевой аппаратной платформы. Если поддержка целевой аппаратной платформы не была установлена ​​(например, MSP430), сценарий не сможет работать «как есть». Тем не менее, просмотреть скрипт, как упоминалось выше, все же очень полезно. Сценарий также можно изменить, чтобы он поддерживал выбранную вами аппаратую платформу.

###### DSS API
Документация по API DSS можно найти в:	[корневая папка DSS]\ccsv4\scripting\docs\

###### Консоль сценариев
Поддержка интерактивных сценариев доступна через консоль сценариев CCS. API-интерфейсы DSS можно вызывать из консоли. Полные автономные файлы JavaScript DSS можно запускать из консоли сценариев.
См. "The Scripting Console View" (https://software-dl.ti.com/ccs/esd/documents/ccs_scripting_console_view.html).

###### Конфигурация целевой аппаратной платформы
Конфигурацию целевой аппаратной платформы необходимо указать для DSS перед запуском сеанс отладки. Это делается путем передачи целевого файла конфигурации в API setConfig(). DSS использует целевые файлы конфигурации на основе xml (*.ccxml) из CCSv4 и более поздних версий.
Инструмент настройки целевой аппаратной платформы CCS можно использовать для создания нового файла конфигурации цели (*.ccxml).
Дополнительную информацию о целевых конфигурациях можно найти в "Руководстве пользователя CCS".

###### Обработка исключений
Все API-интерфейсы DSS выдают исключение Java при обнаружении ошибок. Эти исключения могут быть перехвачены и обработаны внутри скрипта (например, в JavaScript try-catch-throw-finally).
Пример:
	try { debugSession.memory.loadProgram(testProgFile); }
	catch (ex)
	{
		dssScriptEnv.traceWrite(testProgFile + " does not exist! Aborting script");
		quit(); // call custom quit routine to do some cleanup to gracefully exit the script
	}

###### Использование GEL
Вы можете вызывать функции GEL из DSS. API expression.evaluate() можно использовать для вызова любой функции/выражения GEL.
Пример:
	debugSession.expression.evaluate("myGEL_call()");	// Call GEL function
	
###### Несколько сеансов отладки для многоядерной отладки
Можно открыть и контролировать сеанс отладки для каждого ЦП на многоядерном целевом объекте. Просто используйте API openSession() и укажите имя платы и имя ЦП, чтобы открыть сеанс для определенного ЦП.
Более подробно см. "Debug Server Scripting: Multiple Debug Sessions for Multi-core Debug" https://software-dl.ti.com/ccs/esd/documents/users_guide_legacy/sdto_dss_handbook.html#multiple-debug-sessions-for-multi-core-debug

###### Логирование
Ведение журнала DSS можно включить с помощью API traceBegin(). Журналы могут содержать различную информацию, такую ​​как метки времени, идентификатор последовательности, дельты времени и статус для каждой записи журнала. Количество записей можно установить на желаемый уровень детализации с помощью API traceSetFileLevel(). На более высоких уровнях детализации будет регистрироваться множество внутренних диагностических сообщений и сообщений о состоянии, что может быть очень полезно при попытке определить, что и где именно послужило причиной сбоя сценария. Однако это может привести к очень большим файлам журнала для длительных сеансов автоматизации, поэтому рекомендуется использовать более высокие настройки детализации только при необходимости.
Сгенерированные файлы журналов имеют формат XML. У всех будут разные потребности в ведении журналов, и, создавая стандартизированные файлы журналов XML, можно легко преобразовать XML с помощью XSLT (XML StyLesheet Transforms) в любой пользовательский формат (текст с разделителями-запятыми, HTML и т. д.). API traceBegin() может принимать второй параметр (первым является имя файла журнала), чтобы указать файл XSLT, на который следует ссылаться при открытии файла XML в веб-браузере. Пример XSLT-файла (DefaultStylesheet.xsl) находится в папке примеров сценариев с DSS.

###### Профилирование
См. "Профилирование с помощью DSS".

###### Управление проектом
DSS не имеет каких-либо API для управления проектами (создание проекта, сборка проекта и т. д.), поскольку DSS предназначен для написания сценариев для отладчика (а не для менеджера проекта). Однако существуют утилиты командной строки, поставляемые с CCS, для создания, сборки и импорта проекта CCS, который можно вызывать из сценария, эффективно автоматизируя такие действия. Дополнительные сведения об этих командах см. в статье "Создание и сборка проектов с помощью командной строки".

###### Контрольные точки
Информация об установке точек останова с помощью DSS описана в теме медиавики о точках останова.

###### Передача аргументов в скрипт
Способ передачи аргументов сценарию будет различаться в зависимости от используемого языка сценариев, поэтому лучше проверить документацию по этому языку.
При использовании JavaScript объект скрипта верхнего уровня имеет доступ к ряду предопределенных свойств. Один из них называется «аргументы». Пример распечатки аргументов, переданных сценарию DSS:
	for (var i = 0; i < arguments.length; i++)
	{
		print(arguments[i]);
	}

###### Свойства отладчика
Существуют API-интерфейсы DSS для получения и установки различных параметров отладчика (Инструменты → Параметры отладчика).
Некоторые поддерживаемые параметры:
    автозапуск на главную при загрузке/перезагрузке/сбросе программы
    включить режим реального времени
    ...
Используйте следующий API для печати полного списка поддерживаемых параметров в DSS:
	options.printOptions(".*")
	
###### Другие поддерживаемые языки
Базовый пакет сценариев сервера отладки реализован в виде набора API-интерфейсов Java. Используя легкодоступные пакеты (многие из них с открытым исходным кодом), можно получить доступ к этим API с помощью других языков сценариев. JavaScript (через Rhino) является предпочтительным языком и будет официально поддерживаться DSS. Однако существует множество сторонних решений для взаимодействия Java с TCL (tclblend), Python (Jython) и Perl (Inline::Java).
Использование Java (https://software-dl.ti.com/ccs/esd/documents/users_guide/sdto_java_dss_scripting.html)
Использование Perl (https://software-dl.ti.com/ccs/esd/documents/users_guide/sdto_perl_dss_scripting.html)
Использование Python (https://software-dl.ti.com/ccs/esd/documents/users_guide/sdto_python_dss_scripting.html)

### Источники
+ "Debug Server Scripting"	https://software-dl.ti.com/ccs/esd/documents/users_guide_legacy/sdto_dss_handbook.html
+ "Debug Server Scripting (DSS) Fundamentals Workshop"	https://software-dl.ti.com/ccs/esd/training/workshop/ccsv9/dss_fundamentals_workshop.html
