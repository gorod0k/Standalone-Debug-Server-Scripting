# Standalone-Debug-Server-Scripting
Standalone Debug Server Scripting 

Здесь я опишу личный опыт использования сервера отладки (далее DSS) под Windows x32/x64 при работе с сигнальными процессорами TMS320C6455 / TMS320C6457 и контроллерами MSP430F5528. В Linux/Mac запускать DSS не пробовал. До DSS использоввл GEL и TCL scripting от Sauris, реализованный через библиотеку TCLXDS. GEL абсолютно кривая костыльная технология, к тому же и не standalone. TCL scripting от Sauris поддерживает только 2 программатора от Sauris (сейчас зашёл на сайт Sauris, драйвера до сих пор обновляются, молодцы). Остальных ограничений Sauris уже не помню за ненадобностью, потому что после DSS назад дороги не будет :)

DSS доступен как часть CCS, но может использоваться в виде "вещи-в-себе".

DSS выдран из папки Code Composer Studio (далее CCS) вручную и не требует установленной версии CCS. Здесь я лишь приведу список файлов, далеко не все из них являются необходимыми для запуска скриптов DSS. В пути к папке DSS рекомендую использовать только латинские символы, цифры, пробел и символ подчеркивания. Пытливые также могут поковырять DSS, входящий в состав утилиты UniFlash. В этой утилите консольный JavaScript выполняется в окружении Node-WebKit, то есть присутствует GUI.

На абсолютно пустой системе windows (например, на виртуальной машине) может дополнительно потребоваться установка библиотек msvc vcredist. Возможно, достаточно только этих двух: msvc\vcredist_x86.exe (2008), msvc\vcredist_x86_2005.exe. Проверено замечает, что работают вот эти пакеты с версиями DSS из CCS6 и CCS8: Microsoft Visual C++ 2005-2008-2010-2012-2013-2017 для x86 (www.computer-setup.ru/distr/VCR_Hyb_x86_10.03.2017.rar) Microsoft Visual C++ 2005-2008-2010-2012-2013-2017 для x64 (www.computer-setup.ru/distr/VCR_Hyb_x64_10.03.2017.rar).

Java Runtime Environment уже есть в папке DSS.

Описание DSS от производителя: см. ссылки.

Описание содержимого некоторых папок DSS: [корневая папка DSS]\scripting\bin Пакетный файл

, который настраивает необходимую среду и вызывает механизм Rhino Javascript с необходимыми параметрами и указанным для запуска кодом JavaScript. Этот файл называется dss.bat в Windows и dss.sh в Linux/Mac, где первым параметром является запускаемый JavaScript, а последующие необязательные параметры передаются в JavaScript.

[корневая папка DSS]\scripting\examples Примеры скриптов.

Основные примеры DSS — это примеры сценариев, которые выполняют основные операции с памятью и точками останова. Базовые примеры DVT (DVTExamples) — пример сценария для сбора и экспорта данных профилирования функций. Loadti — универсальный загрузчик командной строки, который может загружать/запускать исполняемый файл *.out на целевой аппаратной платформе (см. https://software-dl.ti.com/ccs/esd/documents/sdto_dss_loadti.html). Тестовый сервер (TestServer) — демонстрирует, как использовать DSS для настройки тестового сервера отладки и отправки удаленными клиентами команд отладки через соединение через сокет TCP/IP (см. https://software-dl.ti.com/ccs/esd/documents/dss_test-server.html). Новым пользователям настоятельно рекомендуется открыть базовые примеры DSS и медленно пройтись по ним, чтобы понять, как работает DSS. Примеры хорошо прокомментированы и должны дать вам представление об основных шагах, необходимых для создания среды сценариев и запуска сеанса отладки для указанной цели, в дополнение к выделению некоторых доступных API-интерфейсов DSS. Также полезно использовать примеры сценариев в качестве основы для создания собственных сценариев (путем ссылки на них или простого копирования, а затем «потрошения» для использования в качестве шаблона). Примеры зависят от целевой аппаратной платформы. Если поддержка целевой аппаратной платформы не была установлена (например, MSP430), сценарий не сможет работать «как есть». Тем не менее, просмотреть скрипт, как упоминалось выше, все же очень полезно. Сценарий также можно изменить, чтобы он поддерживал выбранную вами аппаратую платформу.

[корневая папка DSS]\scripting\docs Документация по API DSS.

[корневая папка DSS]\jre Java Runtime Environment.

[корневая папка DSS]\emulation Драйверы для средств отладки (программаторов).

[корневая папка DSS]\common\targetdb "Конфигурация целевой аппаратной платформы". Набор . XML файлов для описания средств отладки (программаторов); собственно "целевой аппаратной платформы" - процессора или контроллера, к которому будет производиться подключение; разных стартовых наборов (готовых отладочных плат) и т. п.

[корневая папка DSS]\common\uscif Утилита dbgjtag с драйверами для тестирования JTAG. К ней можно найти 170-страничный документ "The user’s guide to DBGJTAG".

Статья в процессе написания. Извините, пишу по памяти с телефона, в тексте могут быть и есть неточности. Как отремонтирую ноутбук, дополню и уточню описание.
